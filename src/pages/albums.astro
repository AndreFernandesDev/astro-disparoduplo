---
import Layout from '../layouts/Layout.astro';
import { fromUnix } from '../config/utilities';
import { albums } from '../config/db';
---

<Layout title="Welcome to Astro.">
	<main class="w-full min-h-screen flex flex-wrap p-24">
        <h1 class='w-full'>Os nossos momentos</h1>
		{albums && albums.map((album) => {
            return (
                <div class="relative rounded-xl p-12 w-full xl:w-1/3 h-96 drop-shadow-2xl">
                    <a href={`/album/${album.id}`}>
                        <div class="h-full w-full relative">
                            <img src={album.featured ? album.featured.path : ''} alt={album.name} class="modal-button w-full h-full object-cover rounded-t-lg cursor-pointer"/>
                            <div class="w-full h-3 z-10 bg-gradient-to-t from-white absolute left-0 bottom-0 z-10"></div>
                            <div class="w-full h-6 z-10 bg-gradient-to-t from-white absolute left-0 bottom-0 z-10"></div>
                            <div class="w-full h-9 z-10 bg-gradient-to-t from-white absolute left-0 bottom-0 z-10"></div>

                        </div>
                        <div class="relative w-full flex justify-between bg-white rounded-b-lg py-3 px-4">
                            <h2 class="text-md">{album.name}</h2><h3 class="text-sm border-l-2 pl-4">{fromUnix(album.date)}</h3>
                        </div>
                    </a>
                </div>
            )
        })}
	</main>
</Layout>

<style>
    body {
        overflow-y: scroll !important;
    }
</style>
